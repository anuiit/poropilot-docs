"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[786],{7726:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>a});var t=r(4848),n=r(8453);const i={sidebar_position:5},o="Requests",l={id:"requests",title:"Requests",description:"Overview",source:"@site/docs/requests.md",sourceDirName:".",slug:"/requests",permalink:"/poropilot-docs/requests",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/requests.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Getting Started",permalink:"/poropilot-docs/getting-started"},next:{title:"Account",permalink:"/poropilot-docs/APIs/account"}},c={},a=[{value:"Overview",id:"overview",level:3},{value:"Class Attributes",id:"class-attributes",level:3},{value:"Methods",id:"methods",level:3},{value:"Usage",id:"usage",level:3}];function d(e){const s={br:"br",code:"code",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"requests",children:"Requests"}),"\n",(0,t.jsx)(s.h3,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"RequestHandler"})," class is a utility for making HTTP requests to the Riot Games API. It handles ",(0,t.jsx)(s.strong,{children:"caching"}),", ",(0,t.jsx)(s.strong,{children:"retries"}),", and ",(0,t.jsx)(s.strong,{children:"error handling"}),"."]}),"\n",(0,t.jsx)(s.h3,{id:"class-attributes",children:"Class Attributes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"api_key"})," (str): The API key used for authentication with the Riot Games API."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"region"})," (str): The region to which the requests are being made."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"use_platform"})," (bool): A flag to determine whether to use the platform or the region in the request URL."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"expire_after"})," (int): The cache expiration time in seconds."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"max_retries"})," (int): The maximum number of retries for a request."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"session"})," (requests.Session): The session used for making requests."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"retries"})," (int): The current number of retries for a request."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"methods",children:"Methods"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"__init__(self, api_key, region, use_platform, expire_after=3600, max_retries=3)"}),(0,t.jsx)(s.br,{}),"\n","Initializes a new instance of the RequestHandler class."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"set_cache(self, expire_after, cache_name='riot_api_cache')"}),(0,t.jsx)(s.br,{}),"\n","Sets up the cache for the requests."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"build(self, region, endpoint, query_params=None)"}),(0,t.jsx)(s.br,{}),"\n","Builds the URL for the request."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"make_request(self, endpoint, query_params=None)"}),(0,t.jsx)(s.br,{}),"\n","Makes a request to the specified endpoint with the given query parameters. If the request fails, it will retry up to max_retries times."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"handle_error(exception)"}),(0,t.jsx)(s.br,{}),"\n","Handles any errors that occur during a request. If a requests.exceptions.ConnectionError or requests.exceptions.HTTPError is raised, it will log the error and retry the request. If a different type of error is raised, it will log the error and stop retrying."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"handler = RequestHandler(api_key='your_api_key', region='euw1', use_platform=True)\r\nresponse = handler.make_request('/lol/summoner/v4/summoners/by-name/RiotSchmick')\n"})}),"\n",(0,t.jsx)(s.p,{children:"This will make a request to the /lol/summoner/v4/summoners/by-name/RiotSchmick endpoint on the Riot Games API and return the response as a JSON object."})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>l});var t=r(6540);const n={},i=t.createContext(n);function o(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);